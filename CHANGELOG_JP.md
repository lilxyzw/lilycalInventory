# 変更履歴
このプロジェクトに対するすべての注目すべき変更はこのファイルに記録されます。

フォーマットは[Keep a Changelog](https://keepachangelog.com/en/1.0.0/)に基づいており、バージョンは[Semantic Versioning](https://semver.org/spec/v2.0.0.html)に準拠しています。

## [1.4.5] - 2024-10-17
### 変更
- マテリアルが空のRendererに対してアニメーションを生成しないように

## [1.4.4] - 2024-10-14
### 修正
- 親フォルダのコンポーネントがオフのときにエラーになっていたのを修正

## [1.4.3] - 2024-10-13
### 修正
- 一部プロパティの追加時にエラーになっていたのを修正

## [1.4.2] - 2024-10-13
### 変更
- lilycalInventoryのコンポーネントを付けた際に既にそのGameObjectにMA Menu Itemがある場合はそれを使用するように
- コンポーネントのエディタのReorderableList周りの処理を変更（環境依存で一部に発生していた不具合が修正された可能性あり）

### 修正
- lilycalInventoryのコンポーネントが付いたGameObjectを他アバターにコピー＆ペーストした際にコンポーネント内のGameObject参照が失われるのを修正

## [1.4.1] - 2024-10-05
### 修正
- 操作対象がEditorOnlyかつ複数のコンポーネントから操作される場合にエラーになるのを修正
- 特定条件下でコンパイルエラーになるのを修正
- 変更履歴で一番上のバージョンがスキップされるのを修正
- オブジェクトのオンオフのヘッダーにD&Dしたときにオブジェクトのアクティブ状態を考慮してオンにする・オフにするが設定されていなかったのを修正

## [1.4.0] - 2024-09-29
### 追加
- パラメーター名重複時に自動で重複回避する機能を追加
- lilycalInventoryをMA MergeAnimatorとしてアバターに追加するコンポーネント`LI AsMAMergeAnimator`を追加

### 変更
- MaterialModifierで変更したプロパティがlilycalInventoryで生成されるメニューの初期値に反映されるように

### 修正
- 親フォルダがMA MenuItemで管理されているときに子のメニューが生成されない不具合を修正

## [1.3.1] - 2024-09-22
### 変更
- コンポーネントを他アバターにコピーした際に参照を自動修正するように #121

### 修正
- Presetがn-bit intに対応していなかったのを修正 #123
- CostumeChangerがModular Avatarで管理されている場合のメニューで操作されるパラメーターを修正 #122

## [1.3.0] - 2024-09-19
### 変更
- Unity 2019のサポートを終了
- 処理を高速化

### 修正
- VRCAnimatorPlayAudio使用時のエラー #115
- サブメニューが空の場合のエラー #116
- 他のツールによって複製されたマテリアルをサポート
- メニューの循環参照によるエラー

## [1.2.0] - 2024-09-16
### 変更
- メニュー名にスラッシュが含まれている場合にフォルダを生成
- 同名のSubMenuを統合するように
- メッシュ削除系BlendShapeが複数コンポーネントから操作されるとき値が0か100のみにしか変更されない場合うまく処理できるように #104
- intパラメーターを圧縮するように
- コンポーネントのclassをpublic化

### 修正
- コスチュームの親フォルダがMAで管理されている場合にエラーになる問題を修正 #113
- prefabのコメントを更新 #114

## [1.1.1] - 2024-09-08
### 変更
- Change callback order

### 修正
- Subclassを操作するように修正 #101
- Changelogとバージョンが正しく表示されない問題を修正 #102
- ツールチップの情報に抜けがあったのを修正 #105

## [1.1.0] - 2024-09-01
### 追加
- 言語ファイルの再読み込み (`Tools/lilycalInventory/Reload Language Files`)
- メッシュ設定を自動統一するコンポーネント（LI AutoFixMeshSettings） #96
- CostumeChanger内にAutoDresserを入れる機能 #27
- PropをItemTogglerに変換するボタン #27
- 複数パラメーターを一括切り替えするメニューを追加するコンポーネント（LI Preset） #56
- PropやAutoDresserと同一階層にMenuFolderを生成するボタン #75
- EditorOnlyやAnimationClipで操作されている場合の警告

### 変更
- GameObjectが非アクティブでもビルド時に処理されるように変更 #92
- AutoDresserの表示順をLIで生成されるメニュー先頭に変更

### 修正
- BlendShape追加時にプレビューが更新されない #93
- AnimationClipがセットされていないときにエラー
- マテリアルのプロパティ編集設定でカーソルが出ない #84
- 特定条件下でのエラー
- LI MenuFolderとMA MenuItemを同一オブジェクトに付けた場合にエラー
- AnimationClipだけしか設定していない場合にメニューが生成されない #94

## [1.0.1] - 2024-08-12
### 修正
- 一部アニメーションが動作しなくなる問題を修正
- コンポーネントのヘルプボタンのリンクを修正

## [1.0.0] - 2024-08-10
### 修正
- 操作対象がEditorOnlyのときにエラーになる問題を修正

## [0.4.0] - 2024-07-08
### 追加
- コンポーネントごとのアイコンを追加
- パラメーターの初期値を設定できるようにした (by nekobako)
- プレビューモードの追加
- 簡体中国語対応 (by lonelyicer)
- ローカルで動作するギミックのprefabを追加

### 変更
- UIの向上
- プレビューをデフォルトでオフに変更

### 修正
- メニューがヒエラルキー順にならない場合があるのを修正 (by nekobako)
- メニューの循環参照がある場合に警告が出るように修正 (by nekobako)
- 必要な設定が削除される場合があった問題を修正
- 複数コンポーネントからオブジェクトが操作される場合の挙動を修正 (by nekobako)
- FoldoutのUIの遅延を修正
- マテリアル置き換えのプレビュー時に元に戻らなくなる問題を修正
- 言語ファイルが読み込めなかった場合の処理を追加

## [0.3.9] - 2024-04-09

### 修正
- 古いNDMFを使用している場合にエラーになるのを修正

## [0.3.8] - 2024-04-09

### 修正
- Unity 2019でのエラーを修正

## [0.3.7] - 2024-04-09

### 追加
- UI全般の向上
- パラメーター数の確認機能を追加
- SmoothChangerのプレビューでフレーム間の補間を追加
- AutoDresserのエディタ上に警告を追加
- Altキーを押しながらFoldoutをクリックしたときに一括で開閉できるようにした
- バージョン確認システムを追加
- 変更履歴確認ウィンドウを追加
- AutoDresserSettingsにプロパティの保存とローカルオンリーの設定を追加
- コードにコメントを追加
- AnimationClipの挿入に対応

### 変更
- フレーム値をパーセント表記にするようにした
- ビルド時にアクティブでないオブジェクトについたコンポーネントを除外するように（AutoDresserとPropを除く）
- DirectBlendTreeによる最適化をデフォルトでオンにした

### 修正
- LI Commentの表示バグを修正
- Foldoutの表示バグを修正
- ビルド時に警告が表示されていたのを修正
- プレビュー時にエラーが出ていたのを修正
- BlendShapeのサジェストが正しくないのを修正
- 全てのAutoDresserがオフのときのエラーを修正

## [0.3.6] - 2024-03-09

### 追加
- 一部プロパティで複数オブジェクトをドラッグ＆ドロップで一括追加できるように
- MenuFolder編集時にフォルダの内容を確認・編集できるように

### 変更
- アセットのクローン時にNDMFのObjectRegistryに登録するように
- マテリアル変更処理がTexTransToolの後に動くように
- 過剰にFoldoutがあった部分を改善

### 修正
- MaterialModifierの除外機能が正しく動作していなかったのを修正
- NDMFのバージョンが古い場合にエラーになっていたのを修正

## [0.3.5] - 2024-03-07

### 修正
- 言語変更時にLI Commentの一部プロパティが見えなくなってしまう問題を修正
- マテリアルのベクトル操作の無効化が正しく機能していない問題を修正
- 同一の名前のオブジェクトが同一オブジェクトとして扱われてしまう問題を修正
- ItemTogglerのプロパティが特定条件でAnimatorControllerに登録されない場合がある問題を修正
- パラメーター重複時のエラーレポートに該当オブジェクトが表示されないのを修正
- マテリアルが空のRendererでエラーが出る問題を修正
- SmoothChanger・CostumeChangerのプレビュー時にマテリアルのプロパティ操作のRendererにメッシュを指定している場合に該当メッシュ内のマテリアルの値で設定値が上書きされてしまう問題を修正

### 変更
- MenuFolderコンポーネントと他コンポーネントを同時に付けられるように
- アクティブでないGameObjectのコンポーネントも処理対象にするように戻した

## [0.3.4] - 2024-03-06

### 追加
- コンポーネントがアクティブでない場合にビルド時に無視される旨のヘルプボックスを表示するように
- Prefab・GameObjectにコメントを残せるLI Commentコンポーネントを追加（言語切替・マークダウン対応）

### 変更
- ビルド時にアクティブでないオブジェクトについたコンポーネントを除外するように（AutoDresserとPropを除く）

## [0.3.3] - 2024-03-02

### 追加
- Modular AvatarのMenu Group内にメニューを生成できるように

### 変更
- ビルド時にEditorOnlyのオブジェクトについたコンポーネントを除外するように

## [0.3.2] - 2024-03-02

### 追加
- Direct Blend Treeによる最適化機能を追加

### 変更
- ビルド時の処理を高速化

## [0.3.0] - 2024-02-29

## 追加
- コンポーネントをつけるだけで着替えができるAutoDresserコンポーネントを追加

### 変更
- ツール名をlilAvatarMofifierからlilycalInventoryに変更
- コンポーネントのアイコンを設定
- 複数のコンポーネントからオブジェクトをトグルできるように
